<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SaveAnyMedia - Convert Any Social Media Video to MP4 or MP3</title>
  <meta name="description" content="SaveAnyMedia is the only site that converts videos from YouTube, TikTok, Instagram, Twitter, and Facebook all in one place. Easily download videos as MP4 or MP3 with simple steps and fast conversions." />
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
  <!-- Icons8 CDN for social icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      background: #f9f9f9;
      color: #333;
    }
    .container {
      max-width: 600px;
      margin: 40px auto;
      background: white;
      padding: 30px 20px 50px 20px;
      border-radius: 8px;
      box-shadow: 0 2px 12px rgb(0 0 0 / 0.1);
      text-align: center;
    }
    h1 .logo {
      font-weight: 700;
      font-size: 2.8rem;
    }
    h1 a.logo-link {
      color: #000;
      text-decoration: none;
    }
    h1 a.logo-link:hover {
      text-decoration: underline;
    }
    .tagline {
      font-size: 1.1rem;
      margin-bottom: 20px;
      font-weight: 500;
    }
    form {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      justify-content: center;
      flex-wrap: wrap;
    }
    input[type="text"] {
      flex: 1 1 250px;  /* smaller width */
      max-width: 400px;
      padding: 10px;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    select {
      padding: 10px;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 4px;
      width: 90px;
    }
    button {
      background-color: #2d89ef;
      color: white;
      border: none;
      padding: 10px 18px;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 4px;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #1767c0;
    }
    .progress-container {
      background: #e1e1e1;
      border-radius: 4px;
      height: 20px;
      width: 100%;
      max-width: 600px;
      margin: 20px auto 10px auto;
    }
    #progress-bar {
      height: 100%;
      width: 0%;
      background-color: #2d89ef;
      border-radius: 4px;
      transition: width 0.3s ease;
      text-align: center;
      color: white;
      line-height: 20px;
      font-weight: 600;
      font-size: 0.9rem;
    }
    #status {
      min-height: 24px;
      font-weight: 600;
      color: #444;
    }
    #download-link {
      display: none;
      margin-top: 15px;
      font-weight: 600;
      color: #2d89ef;
      text-decoration: none;
      border: 1px solid #2d89ef;
      padding: 8px 15px;
      border-radius: 4px;
      display: inline-block;
    }
    #download-link:hover {
      background-color: #2d89ef;
      color: white;
    }
    .social-icons {
      margin-top: 30px;
      display: flex;
      justify-content: center;
      gap: 25px;
      font-size: 2rem;
    }
    .social-icons a {
      color: #666;
      transition: color 0.3s ease;
    }
    .social-icons a:hover {
      color: #2d89ef;
    }
    .description-section {
      text-align: left;
      margin-top: 40px;
      font-size: 1rem;
      line-height: 1.5;
    }
    .steps-section {
      margin-top: 40px;
      text-align: left;
    }
    .steps-section h2 {
      font-weight: 700;
      margin-bottom: 15px;
      color: #2d89ef;
    }
    .steps-section ol {
      padding-left: 20px;
      font-size: 1rem;
    }
    footer {
      margin-top: 50px;
      padding: 20px 0;
      font-size: 0.9rem;
      color: #777;
      text-align: center;
      border-top: 1px solid #ddd;
    }
    footer a {
      color: #2d89ef;
      margin: 0 10px;
      text-decoration: none;
    }
    footer a:hover {
      text-decoration: underline;
    }

    @media (max-width: 600px) {
      form {
        flex-direction: column;
        align-items: stretch;
      }
      select, button, input[type="text"] {
        width: 100%;
        box-sizing: border-box;
      }
      .social-icons {
        font-size: 1.8rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1><a href="/" class="logo-link" aria-label="Go to homepage">SaveAnyMedia</a></h1>
    <p class="tagline">Download from YouTube, TikTok, Instagram, Twitter, and Facebook in MP4 or MP3 formats — fast, free, and easy!</p>

    <form id="download-form" aria-label="Video download form">
      <input type="text" id="url" placeholder="Paste video link here..." required aria-required="true" aria-label="Video URL" />
      <select id="format" aria-label="Select format">
        <option value="mp4">MP4</option>
        <option value="mp3">MP3</option>
      </select>
      <button type="submit">Download</button>
    </form>

    <div class="progress-container" aria-live="polite" aria-atomic="true" aria-label="Download progress">
      <div id="progress-bar">0%</div>
    </div>

    <p id="status" role="alert" aria-live="assertive"></p>
    <a id="download-link" href="#" download>Click here to download</a>

    <div class="social-icons" aria-label="Social media links">
      <a href="https://www.youtube.com/" target="_blank" rel="noopener" aria-label="YouTube"><img src="https://img.icons8.com/color/48/000000/youtube-play.png" alt="YouTube" /></a>
      <a href="https://www.tiktok.com/" target="_blank" rel="noopener" aria-label="TikTok"><img src="https://img.icons8.com/color/48/000000/tiktok--v1.png" alt="TikTok" /></a>
      <a href="https://www.instagram.com/" target="_blank" rel="noopener" aria-label="Instagram"><img src="https://img.icons8.com/color/48/000000/instagram-new.png" alt="Instagram" /></a>
      <a href="https://twitter.com/" target="_blank" rel="noopener" aria-label="Twitter"><img src="https://img.icons8.com/color/48/000000/twitter--v1.png" alt="Twitter" /></a>
      <a href="https://www.facebook.com/" target="_blank" rel="noopener" aria-label="Facebook"><img src="https://img.icons8.com/color/48/000000/facebook-new.png" alt="Facebook" /></a>
    </div>

    <section class="description-section" aria-label="Site description">
      <h2>Why Choose SaveAnyMedia?</h2>
      <p>SaveAnyMedia is the only online converter that supports all your favorite social media platforms in one place. Whether it's YouTube, TikTok, Instagram, Twitter, or Facebook, you can quickly convert videos to MP4 or MP3 without the hassle of switching sites.</p>
      <p>Enjoy fast and free downloads, an easy-to-use interface, and reliable service that puts you in control of your media. No registrations, no hidden fees—just simple, hassle-free conversions.</p>
    </section>

    <section class="steps-section" aria-label="How to use SaveAnyMedia">
      <h2>How to Use SaveAnyMedia</h2>
      <ol>
        <li>Copy the video link from YouTube, TikTok, Instagram, Twitter, or Facebook.</li>
        <li>Paste the link into the box above.</li>
        <li>Select your desired format: MP4 for video, MP3 for audio.</li>
        <li>Click <strong>Download</strong> and wait for the conversion to complete.</li>
        <li>Click the <em>Click here to download</em> link to save your file.</li>
      </ol>
    </section>
  </div>

  <footer>
    &copy; 2025 SaveAnyMedia. 
    <a href="/privacy.html">Privacy Policy</a> | 
    <a href="/terms.html">Terms of Service</a>
  </footer>

  <script>
    const form = document.getElementById('download-form');
    const urlInput = document.getElementById('url');
    const formatSelect = document.getElementById('format');
    const progressBar = document.getElementById('progress-bar');
    const status = document.getElementById('status');
    const downloadLink = document.getElementById('download-link');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      downloadLink.style.display = 'none';
      progressBar.style.width = '0%';
      progressBar.textContent = '0%';
      status.textContent = '';

      const videoUrl = urlInput.value.trim();
      const format = formatSelect.value;

      if (!videoUrl) {
        status.textContent = 'Please enter a video URL.';
        return;
      }

      status.textContent = 'Starting conversion...';

      try {
        // POST to backend API
        const response = await fetch('/api/download', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ url: videoUrl, format }),
        });

        if (!response.ok) {
          const errorData = await response.json();
          throw new Error(errorData.error || 'Download failed');
        }

        const data = await response.json();

        // Update UI on success
        progressBar.style.width = '100%';
        progressBar.textContent = '100%';
        status.textContent = 'Conversion completed! Your download is ready.';
        downloadLink.href = data.downloadUrl;
        downloadLink.style.display = 'inline-block';

      } catch (error) {
        status.textContent = `Error: ${error.message}`;
      }
    });
  </script>
</body>
</html>
